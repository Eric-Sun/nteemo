{"version":3,"sources":["webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?f15f","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?b2fa","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?5377","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?e95b","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?bfef","webpack:////Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue?963e"],"names":["props","postId","replyId","default","type","String","replyUserName","content","postAnonymous","isPostUserId","Boolean","imgList","Array","data","anon","pickerData","index","replyAnonymous","methods","uploadImg","that","wx","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","showToast","title","icon","mask","duration","uploadFile","url","api","filePath","name","header","formData","dataType","JSON","parse","file","Object","imgId","push","hideToast","delImg","splice","changeAnonymous","e","target","dataset","value","prevent","send","t","getStorageSync","pureContent","length","substring","imgIdList","i","$http","get","act","barId","anonymous","lastReplyId","imgListStr","stringify","then","code","$emit","closeModal"],"mappings":"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","file":"components/loginTips.js","sourcesContent":["import { render, staticRenderFns } from \"./loginTips.vue?vue&type=template&id=7cb51cc1&scoped=true&\"\nimport script from \"./loginTips.vue?vue&type=script&lang=js&\"\nexport * from \"./loginTips.vue?vue&type=script&lang=js&\"\nimport style0 from \"./loginTips.vue?vue&type=style&index=0&id=7cb51cc1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7cb51cc1\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7cb51cc1', component.options)\n    } else {\n      api.reload('7cb51cc1', component.options)\n    }\n    module.hot.accept(\"./loginTips.vue?vue&type=template&id=7cb51cc1&scoped=true&\", function () {\n      api.rerender('7cb51cc1', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/sunbo/project/j13/v10/nteemo/components/loginTips.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./loginTips.vue?vue&type=template&id=7cb51cc1&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./loginTips.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./loginTips.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {api, barId} from '../const'\n\nexport default {\n  props: {\n    postId: 0,\n    replyId: {\n      default: '',\n      type: String\n    },\n    replyUserName: {\n      default: '',\n      type: String\n    },\n    content: {\n      default: '',\n      type: String\n    },\n    // 帖子本身是否是匿名帖子\n    postAnonymous: {\n      default: '0',\n      type: String\n    },\n    // 用户是否是发帖用户\n    isPostUserId: {\n      default: false,\n      type: Boolean\n    },\n    imgList: {\n      default: [],\n      type: Array\n    }\n\n  },\n  data: function () {\n    return {\n      anon: {\n        pickerData: ['非匿名', '匿名'],\n        index: -1,\n        replyAnonymous: 1 //此评论是否是匿名评论，默认为匿名\n      }\n    }\n  },\n  methods: {\n    async uploadImg() {\n      var that = this;\n      wx.chooseImage({\n        count: 1, //最多可以选择的图片总数\n        sizeType: ['original'], // 只能是原图\n        sourceType: ['album'], // 只能是相册\n        success: function (res) {\n          // 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\n          var tempFilePaths = res.tempFilePaths;\n          wx.showToast({\n            title: '正在上传...',\n            icon: 'loading',\n            mask: true,\n            duration: 10000\n          })\n\n\n          wx.uploadFile({\n            url: `${api}`,\n            filePath: tempFilePaths[0],\n            name: \"file\",\n            header: {\n              \"Content-Type\": \"multipart/form-data\"\n            },\n            formData: {\n              \"act\": \"img.upload\",\n              \"type\": 2\n            },\n            dataType: \"json\",\n            success: function (res) {\n              var data = JSON.parse(res.data);\n              var file = new Object();\n              file.url = data.url;\n              file.imgId = data.imgId;\n              that.imgList.push(file);\n              wx.hideToast();\n            }\n          });\n\n        }\n      })\n    },\n    delImg(index) {\n      this.imgList.splice(index, 1);\n    },\n    changeAnonymous: function (e) {\n      this.replyAnonymous = e.target.dataset.value\n    },\n    prevent() {\n\n    }\n    ,\n    async send() {\n      var that = this\n      const t = wx.getStorageSync('t')\n      var pureContent = ''\n      if (this.replyId != 0) {\n        var count = `@${this.replyUserName}:`.length\n        pureContent = this.content.substring(count)\n      } else {\n        pureContent = this.content\n      }\n      var imgIdList = [];\n      for (var i = 0; i < this.imgList.length; i++) {\n        imgIdList.push(this.imgList[i].imgId)\n      }\n      await\n        this.$http.get(\n          `${api}`,\n          {\n            act: 'reply.add',\n            t: t,\n            content: pureContent,\n            postId: this.postId,\n            barId: `${barId}`,\n            anonymous: this.replyAnonymous,\n            lastReplyId: this.replyId,\n            imgListStr: JSON.stringify(imgIdList)\n          }\n        ).then(function (res) {\n          if (!res.data.code) {\n            that.content = ''\n            that.$emit('reply-success')\n          } else if (res.data.code == 6) {\n            wx.showToast({\n              title: '您发的标题或内容违规，请修改后重发',\n              icon: 'none',\n              duration: 2000\n            })\n          }\n        })\n      this.imgList = []\n    }\n    ,\n    closeModal() {\n      this.$emit('close-modal')\n    }\n  }\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./loginTips.vue?vue&type=style&index=0&id=7cb51cc1&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./loginTips.vue?vue&type=style&index=0&id=7cb51cc1&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}