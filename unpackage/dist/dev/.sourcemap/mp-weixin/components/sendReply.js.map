{"version":3,"sources":["webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?8424","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?1840","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?f92a","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?3f81","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?6dad","webpack:////Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue?b692"],"names":["props","postId","replyId","default","type","String","replyUserName","content","postAnonymous","isPostUserId","Boolean","imgList","Array","data","anon","pickerData","index","replyAnonymous","methods","uploadImg","that","uni","chooseImage","count","sizeType","sourceType","success","res","tempFilePaths","showToast","title","icon","mask","duration","uploadFile","url","api","filePath","name","header","formData","dataType","JSON","parse","file","Object","imgId","push","wx","hideToast","delImg","splice","changeAnonymous","e","target","dataset","value","prevent","send","t","getStorageSync","pureContent","length","substring","imgIdList","i","$http","act","barId","anonymous","lastReplyId","imgListStr","stringify","code","$emit","closeModal"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoG;AACvC;AACL;AACsC;;;AAG9F;AAC0K;AAC1K,gBAAgB,4KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,gGAAM;AACR,EAAE,yGAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAiyB,CAAgB,kwBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACkCrzB,qD;;;;;AAKe;AACdA,OAAK,EAAE;AACNC,UAAM,EAAE,CADF;AAENC,WAAO,EAAE;AACRC,aAAO,EAAE,EADD;AAERC,UAAI,EAAEC,MAFE,EAFH;;AAMNC,iBAAa,EAAE;AACdH,aAAO,EAAE,EADK;AAEdC,UAAI,EAAEC,MAFQ,EANT;;AAUNE,WAAO,EAAE;AACRJ,aAAO,EAAE,EADD;AAERC,UAAI,EAAEC,MAFE,EAVH;;AAcN;AACAG,iBAAa,EAAE;AACdL,aAAO,EAAE,GADK;AAEdC,UAAI,EAAEC,MAFQ,EAfT;;AAmBN;AACAI,gBAAY,EAAE;AACbN,aAAO,EAAE,KADI;AAEbC,UAAI,EAAEM,OAFO,EApBR;;AAwBNC,WAAO,EAAE;AACRR,aAAO,EAAE,EADD;AAERC,UAAI,EAAEQ,KAFE,EAxBH,EADO;;;;AA+BdC,MAAI,EAAE,gBAAW;AAChB,WAAO;AACNC,UAAI,EAAE;AACLC,kBAAU,EAAE,CAAC,KAAD,EAAQ,IAAR,CADP;AAELC,aAAK,EAAE,CAAC,CAFH;AAGLC,sBAAc,EAAE,CAHX,CAGa;AAHb,OADA,EAAP;;AAOA,GAvCa;AAwCdC,SAAO,EAAE;AACFC,aADE;AAEHC,oBAFG,GAEI,IAFJ;AAGPC,mBAAG,CAACC,WAAJ,CAAgB;AACfC,uBAAK,EAAE,CADQ,EACL;AACVC,0BAAQ,EAAE,CAAC,UAAD,CAFK,EAES;AACxBC,4BAAU,EAAE,CAAC,OAAD,CAHG,EAGQ;AACvBC,yBAAO,EAAE,iBAASC,GAAT,EAAc;AACtB;AACA,wBAAIC,aAAa,GAAGD,GAAG,CAACC,aAAxB;AACAP,uBAAG,CAACQ,SAAJ,CAAc;AACbC,2BAAK,EAAE,SADM;AAEbC,0BAAI,EAAE,SAFO;AAGbC,0BAAI,EAAE,IAHO;AAIbC,8BAAQ,EAAE,KAJG,EAAd;;;;AAQAZ,uBAAG,CAACa,UAAJ,CAAe;AACdC,yBAAG,YAAKC,UAAL,CADW;AAEdC,8BAAQ,EAAET,aAAa,CAAC,CAAD,CAFT;AAGdU,0BAAI,EAAE,MAHQ;AAIdC,4BAAM,EAAE;AACP,wCAAgB,qBADT,EAJM;;AAOdC,8BAAQ,EAAE;AACT,+BAAO,YADE;AAET,gCAAQ,CAFC,EAPI;;AAWdC,8BAAQ,EAAE,MAXI;AAYdf,6BAAO,EAAE,iBAASC,GAAT,EAAc;AACtB,4BAAId,IAAI,GAAG6B,IAAI,CAACC,KAAL,CAAWhB,GAAG,CAACd,IAAf,CAAX;AACA,4BAAI+B,IAAI,GAAG,IAAIC,MAAJ,EAAX;AACAD,4BAAI,CAACT,GAAL,GAAWtB,IAAI,CAACsB,GAAhB;AACAS,4BAAI,CAACE,KAAL,GAAajC,IAAI,CAACiC,KAAlB;AACA1B,4BAAI,CAACT,OAAL,CAAaoC,IAAb,CAAkBH,IAAlB;AACAI,0BAAE,CAACC,SAAH;AACA,uBAnBa,EAAf;;;AAsBA,mBArCc,EAAhB,EAHO;;;AA2CRC,UA3CQ,kBA2CDlC,KA3CC,EA2CM;AACb,WAAKL,OAAL,CAAawC,MAAb,CAAoBnC,KAApB,EAA2B,CAA3B;AACA,KA7CO;AA8CRoC,mBAAe,EAAE,yBAASC,CAAT,EAAY;AAC5B,WAAKpC,cAAL,GAAsBoC,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiBC,KAAvC;AACA,KAhDO;AAiDRC,WAjDQ,qBAiDE;;AAET,KAnDO;AAoDFC,QApDE;AAqDHtC,oBArDG,GAqDI,IArDJ;AAsDDuC,iBAtDC,GAsDGtC,GAAG,CAACuC,cAAJ,CAAmB,GAAnB,CAtDH;AAuDHC,2BAvDG,GAuDW,EAvDX;AAwDP,oBAAI,KAAK3D,OAAL,IAAgB,CAApB,EAAuB;AAClBqB,uBADkB,GACV,WAAI,KAAKjB,aAAT,OAA0BwD,MADhB;AAEtBD,6BAAW,GAAG,KAAKtD,OAAL,CAAawD,SAAb,CAAuBxC,KAAvB,CAAd;AACA,iBAHD,MAGO;AACNsC,6BAAW,GAAG,KAAKtD,OAAnB;AACA;AACGyD,yBA9DG,GA8DS,EA9DT;AA+DP,qBAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAG,KAAKtD,OAAL,CAAamD,MAAjC,EAAyCG,CAAC,EAA1C,EAA8C;AAC7CD,2BAAS,CAACjB,IAAV,CAAe,KAAKpC,OAAL,CAAasD,CAAb,EAAgBnB,KAA/B;AACA;AACD,qBAAKoB,KAAL,CAAW;AACTC,qBAAG,EAAE,WADI;AAETR,mBAAC,EAAEA,CAFM;AAGTpD,yBAAO,EAAEsD,WAHA;AAIT5D,wBAAM,EAAE,KAAKA,MAJJ;AAKTmE,uBAAK,EAAEA,YALE;AAMTC,2BAAS,EAAE,KAAKpD,cANP;AAOTqD,6BAAW,EAAE,KAAKpE,OAPT;AAQTqE,4BAAU,EAAE7B,IAAI,CAAC8B,SAAL,CAAeR,SAAf,CARH,EAAX;;AAUC,0BAASrC,GAAT,EAAc;AACb,sBAAI,CAACA,GAAG,CAACd,IAAJ,CAAS4D,IAAd,EAAoB;AACnBrD,wBAAI,CAACb,OAAL,GAAe,EAAf;AACAa,wBAAI,CAACsD,KAAL,CAAW,eAAX;AACA,mBAHD,MAGO,IAAI/C,GAAG,CAACd,IAAJ,CAAS4D,IAAT,IAAiB,CAArB,EAAwB;AAC9BpD,uBAAG,CAACQ,SAAJ,CAAc;AACbC,2BAAK,EAAE,mBADM;AAEbC,0BAAI,EAAE,MAFO;AAGbE,8BAAQ,EAAE,IAHG,EAAd;;AAKA;AACD,iBArBF;;AAuBA,qBAAKtB,OAAL,GAAe,EAAf,CAzFO;;AA2FRgE,cA3FQ,wBA2FK;AACZ,WAAKD,KAAL,CAAW,aAAX;AACA,KA7FO,EAxCK,E;;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAA28C,CAAgB,80CAAG,EAAC,C;;;;;;;;;;;ACA/9C,uC","file":"components/sendReply.js","sourcesContent":["import { render, staticRenderFns } from \"./sendReply.vue?vue&type=template&id=1c702242&scoped=true&\"\nimport script from \"./sendReply.vue?vue&type=script&lang=js&\"\nexport * from \"./sendReply.vue?vue&type=script&lang=js&\"\nimport style0 from \"./sendReply.vue?vue&type=style&index=0&id=1c702242&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c702242\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('1c702242', component.options)\n    } else {\n      api.reload('1c702242', component.options)\n    }\n    module.hot.accept(\"./sendReply.vue?vue&type=template&id=1c702242&scoped=true&\", function () {\n      api.rerender('1c702242', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/sunbo/project/j13/v10/nteemo/components/sendReply.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sendReply.vue?vue&type=template&id=1c702242&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sendReply.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sendReply.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport {\n\tapi,\n\tbarId\n} from '../const'\n\nexport default {\n\tprops: {\n\t\tpostId: 0,\n\t\treplyId: {\n\t\t\tdefault: '',\n\t\t\ttype: String\n\t\t},\n\t\treplyUserName: {\n\t\t\tdefault: '',\n\t\t\ttype: String\n\t\t},\n\t\tcontent: {\n\t\t\tdefault: '',\n\t\t\ttype: String\n\t\t},\n\t\t// 帖子本身是否是匿名帖子\n\t\tpostAnonymous: {\n\t\t\tdefault: '0',\n\t\t\ttype: String\n\t\t},\n\t\t// 用户是否是发帖用户\n\t\tisPostUserId: {\n\t\t\tdefault: false,\n\t\t\ttype: Boolean\n\t\t},\n\t\timgList: {\n\t\t\tdefault: [],\n\t\t\ttype: Array\n\t\t}\n\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tanon: {\n\t\t\t\tpickerData: ['非匿名', '匿名'],\n\t\t\t\tindex: -1,\n\t\t\t\treplyAnonymous: 1 //此评论是否是匿名评论，默认为匿名\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tasync uploadImg() {\n\t\t\tvar that = this;\n\t\t\tuni.chooseImage({\n\t\t\t\tcount: 1, //最多可以选择的图片总数\n\t\t\t\tsizeType: ['original'], // 只能是原图\n\t\t\t\tsourceType: ['album'], // 只能是相册\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片\n\t\t\t\t\tvar tempFilePaths = res.tempFilePaths;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '正在上传...',\n\t\t\t\t\t\ticon: 'loading',\n\t\t\t\t\t\tmask: true,\n\t\t\t\t\t\tduration: 10000\n\t\t\t\t\t})\n\n\n\t\t\t\t\tuni.uploadFile({\n\t\t\t\t\t\turl: `${api}`,\n\t\t\t\t\t\tfilePath: tempFilePaths[0],\n\t\t\t\t\t\tname: \"file\",\n\t\t\t\t\t\theader: {\n\t\t\t\t\t\t\t\"Content-Type\": \"multipart/form-data\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\tformData: {\n\t\t\t\t\t\t\t\"act\": \"img.upload\",\n\t\t\t\t\t\t\t\"type\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\tdataType: \"json\",\n\t\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\t\tvar data = JSON.parse(res.data);\n\t\t\t\t\t\t\tvar file = new Object();\n\t\t\t\t\t\t\tfile.url = data.url;\n\t\t\t\t\t\t\tfile.imgId = data.imgId;\n\t\t\t\t\t\t\tthat.imgList.push(file);\n\t\t\t\t\t\t\twx.hideToast();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tdelImg(index) {\n\t\t\tthis.imgList.splice(index, 1);\n\t\t},\n\t\tchangeAnonymous: function(e) {\n\t\t\tthis.replyAnonymous = e.target.dataset.value\n\t\t},\n\t\tprevent() {\n\n\t\t},\n\t\tasync send() {\n\t\t\tvar that = this\n\t\t\tconst t = uni.getStorageSync('t')\n\t\t\tvar pureContent = ''\n\t\t\tif (this.replyId != 0) {\n\t\t\t\tvar count = `@${this.replyUserName}:`.length\n\t\t\t\tpureContent = this.content.substring(count)\n\t\t\t} else {\n\t\t\t\tpureContent = this.content\n\t\t\t}\n\t\t\tvar imgIdList = [];\n\t\t\tfor (var i = 0; i < this.imgList.length; i++) {\n\t\t\t\timgIdList.push(this.imgList[i].imgId)\n\t\t\t}\n\t\t\tthis.$http({\n\t\t\t\t\tact: 'reply.add',\n\t\t\t\t\tt: t,\n\t\t\t\t\tcontent: pureContent,\n\t\t\t\t\tpostId: this.postId,\n\t\t\t\t\tbarId: barId,\n\t\t\t\t\tanonymous: this.replyAnonymous,\n\t\t\t\t\tlastReplyId: this.replyId,\n\t\t\t\t\timgListStr: JSON.stringify(imgIdList)\n\t\t\t\t},\n\t\t\t\tfunction(res) {\n\t\t\t\t\tif (!res.data.code) {\n\t\t\t\t\t\tthat.content = ''\n\t\t\t\t\t\tthat.$emit('reply-success')\n\t\t\t\t\t} else if (res.data.code == 6) {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '您发的标题或内容违规，请修改后重发',\n\t\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\tthis.imgList = []\n\t\t},\n\t\tcloseModal() {\n\t\t\tthis.$emit('close-modal')\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sendReply.vue?vue&type=style&index=0&id=1c702242&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./sendReply.vue?vue&type=style&index=0&id=1c702242&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}